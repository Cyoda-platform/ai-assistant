{
    "@bean": "com.cyoda.core.model.stateMachine.dto.FullWorkflowContainerDto",
    "workflow": [
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "9022e5c4-1a12-11f0-8f0b-40c2ba0ac9eb",
            "name": "add_new_feature:1000",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.851+00:00",
            "description": "",
            "entityShortClassName": "TreeNodeEntity",
            "transitionIds": [
                "90245a50-1a12-11f0-8974-40c2ba0ac9eb",
                "90245c38-1a12-11f0-80bb-40c2ba0ac9eb",
                "902463a1-1a12-11f0-a661-40c2ba0ac9eb"
            ],
            "criteriaIds": [
                "9024583a-1a12-11f0-a2e0-40c2ba0ac9eb"
            ],
            "stateIds": [
                "noneState"
            ],
            "active": true,
            "useDecisionTree": false,
            "decisionTrees": [],
            "metaData": {
                "documentLink": ""
            }
        }
    ],
    "transitions": [
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90245a50-1a12-11f0-8974-40c2ba0ac9eb",
            "name": "start_data_update_stack",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": "",
            "startStateId": "noneState",
            "endStateId": "90245ac6-1a12-11f0-8cb4-40c2ba0ac9eb",
            "workflowId": "9022e5c4-1a12-11f0-8f0b-40c2ba0ac9eb",
            "criteriaIds": [],
            "endProcessesIds": [],
            "active": true,
            "automated": true,
            "logActivity": false
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90245c38-1a12-11f0-80bb-40c2ba0ac9eb",
            "name": "initial_user_notification",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": "",
            "startStateId": "90245ac6-1a12-11f0-8cb4-40c2ba0ac9eb",
            "endStateId": "90245c98-1a12-11f0-9123-40c2ba0ac9eb",
            "workflowId": "9022e5c4-1a12-11f0-8f0b-40c2ba0ac9eb",
            "criteriaIds": [],
            "endProcessesIds": [
                {
                    "persisted": true,
                    "persistedId": "90245de2-1a12-11f0-8339-40c2ba0ac9eb",
                    "runtimeId": 0
                }
            ],
            "active": true,
            "automated": true,
            "logActivity": false
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "902463a1-1a12-11f0-a661-40c2ba0ac9eb",
            "name": "done",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": "",
            "startStateId": "90245c98-1a12-11f0-9123-40c2ba0ac9eb",
            "endStateId": "noneState",
            "workflowId": "9022e5c4-1a12-11f0-8f0b-40c2ba0ac9eb",
            "criteriaIds": [],
            "endProcessesIds": [
                {
                    "persisted": true,
                    "persistedId": "902464a6-1a12-11f0-ac17-40c2ba0ac9eb",
                    "runtimeId": 0
                }
            ],
            "active": true,
            "automated": true,
            "logActivity": false
        }
    ],
    "criterias": [
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "9024583a-1a12-11f0-a2e0-40c2ba0ac9eb",
            "name": "add_new_feature:1000",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": "Workflow criteria",
            "condition": {
                "@bean": "com.cyoda.core.conditions.GroupCondition",
                "operator": "AND",
                "conditions": [
                    {
                        "@bean": "com.cyoda.core.conditions.nonqueryable.IEquals",
                        "fieldName": "entityModelName",
                        "operation": "IEQUALS",
                        "rangeField": "false",
                        "value": "add_new_feature"
                    },
                    {
                        "@bean": "com.cyoda.core.conditions.queryable.Equals",
                        "fieldName": "entityModelVersion",
                        "operation": "EQUALS",
                        "rangeField": "false",
                        "value": 1000,
                        "queryable": true
                    }
                ]
            },
            "aliasDefs": [],
            "parameters": [],
            "criteriaChecker": "ConditionCriteriaChecker",
            "user": "CYODA"
        }
    ],
    "processes": [
        {
            "persisted": true,
            "owner": "CYODA",
            "id": {
                "@bean": "com.cyoda.core.model.stateMachine.dto.ProcessIdDto",
                "persisted": true,
                "persistedId": "90245de2-1a12-11f0-8339-40c2ba0ac9eb",
                "runtimeId": 0
            },
            "name": "process_event",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": "",
            "processorClassName": "net.cyoda.saas.externalize.processor.ExternalizedProcessor",
            "parameters": [
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "90245ece-1a12-11f0-94d5-40c2ba0ac9eb",
                    "name": "Tags for filtering calculation nodes (separated by ',' or ';')",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "ai_assistant"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "90245f8c-1a12-11f0-acde-40c2ba0ac9eb",
                    "name": "Attach entity",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "true"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "90246049-1a12-11f0-8e1f-40c2ba0ac9eb",
                    "name": "Calculation response timeout (ms)",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "INTEGER",
                    "value": {
                        "@type": "String",
                        "value": "180000"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "902460fa-1a12-11f0-81a4-40c2ba0ac9eb",
                    "name": "Retry policy",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "NONE"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "902461a9-1a12-11f0-840d-40c2ba0ac9eb",
                    "name": "Parameter 'context'",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "{\"type\": \"prompt\", \"model\": {\"name\": \"OPEN_AI\", \"temperature\": 0.7, \"max_tokens\": 10000}, \"messages\": [{\"role\": \"user\", \"content\": [\"Please analyse the user requirement and provide a modification plan for the existing application.\", \"Cyoda application organises logic around entities with attached workflows. Data is abstracted into entity.\", \"Code (logic) is abstracted into workflow external processors. Such workflow is triggered right before the entity is saved and can modify entity data, so that only the updated data is saved.\", \"Workflow processors code can also work with other entities via entity_service.\", \"\", \"Currently we have the following entities with the following workflow processors attached:\", \"{entities_description}\", \"\", \"You are also provided with the app.py containing application endpoints:\", \"{app_api}\", \"\", \"User requirement: \\\"{user_prompt}\\\"\", \"\", \"Please return the answer in the following format:\", \"In order to implement this requirement,\", \"I can suggest introducing a new entity *entity_name*/ reusing the existing entity *entity_name*.\", \"\", \"Then I recommend to add a new workflow/update the existing entity workflow to incorporate the following logic: *specify the logic*\", \"\", \"Workflow mermaid flowchart diagram example:\"]}], \"publish\": true}"
                    }
                }
            ],
            "fields": [],
            "syncProcess": "false",
            "newTransactionForAsync": "true",
            "noneTransactionalForAsync": "false",
            "isTemplate": false,
            "criteriaIds": [],
            "user": "CYODA"
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": {
                "@bean": "com.cyoda.core.model.stateMachine.dto.ProcessIdDto",
                "persisted": true,
                "persistedId": "902464a6-1a12-11f0-ac17-40c2ba0ac9eb",
                "runtimeId": 0
            },
            "name": "notify_user",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": "",
            "processorClassName": "net.cyoda.saas.externalize.processor.ExternalizedProcessor",
            "parameters": [
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "90246582-1a12-11f0-b1a4-40c2ba0ac9eb",
                    "name": "Tags for filtering calculation nodes (separated by ',' or ';')",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "ai_assistant"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "90246633-1a12-11f0-b9aa-40c2ba0ac9eb",
                    "name": "Attach entity",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "true"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "902466e3-1a12-11f0-97e0-40c2ba0ac9eb",
                    "name": "Calculation response timeout (ms)",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "INTEGER",
                    "value": {
                        "@type": "String",
                        "value": "180000"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "902467b0-1a12-11f0-9c05-40c2ba0ac9eb",
                    "name": "Retry policy",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "NONE"
                    }
                },
                {
                    "persisted": true,
                    "owner": "CYODA",
                    "id": "9024686e-1a12-11f0-aa48-40c2ba0ac9eb",
                    "name": "Parameter 'context'",
                    "creationDate": "2025-04-15T15:59:07.852+00:00",
                    "valueType": "STRING",
                    "value": {
                        "@type": "String",
                        "value": "{\"type\": \"notification\", \"question\": \"Examples to proceed:\\n\\nPlease, add a new entity for ...\\nPlease, add a workflow for ...\\n\\nPlease let me know if I can help!\", \"publish\": true}"
                    }
                }
            ],
            "fields": [],
            "syncProcess": "false",
            "newTransactionForAsync": "true",
            "noneTransactionalForAsync": "false",
            "isTemplate": false,
            "criteriaIds": [],
            "user": "CYODA"
        }
    ],
    "states": [
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "noneState",
            "name": "none",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": ""
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90245ac6-1a12-11f0-8cb4-40c2ba0ac9eb",
            "name": "generate_update_plan",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": ""
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90245c98-1a12-11f0-9123-40c2ba0ac9eb",
            "name": "user_notification",
            "entityClassName": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "description": ""
        }
    ],
    "processParams": [
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90245ece-1a12-11f0-94d5-40c2ba0ac9eb",
            "name": "Tags for filtering calculation nodes (separated by ',' or ';')",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "ai_assistant"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90245f8c-1a12-11f0-acde-40c2ba0ac9eb",
            "name": "Attach entity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "true"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90246049-1a12-11f0-8e1f-40c2ba0ac9eb",
            "name": "Calculation response timeout (ms)",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "INTEGER",
            "value": {
                "@type": "String",
                "value": "180000"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "902460fa-1a12-11f0-81a4-40c2ba0ac9eb",
            "name": "Retry policy",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "NONE"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "902461a9-1a12-11f0-840d-40c2ba0ac9eb",
            "name": "Parameter 'context'",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "{\"type\": \"prompt\", \"model\": {\"name\": \"OPEN_AI\", \"temperature\": 0.7, \"max_tokens\": 10000}, \"messages\": [{\"role\": \"user\", \"content\": [\"Please analyse the user requirement and provide a modification plan for the existing application.\", \"Cyoda application organises logic around entities with attached workflows. Data is abstracted into entity.\", \"Code (logic) is abstracted into workflow external processors. Such workflow is triggered right before the entity is saved and can modify entity data, so that only the updated data is saved.\", \"Workflow processors code can also work with other entities via entity_service.\", \"\", \"Currently we have the following entities with the following workflow processors attached:\", \"{entities_description}\", \"\", \"You are also provided with the app.py containing application endpoints:\", \"{app_api}\", \"\", \"User requirement: \\\"{user_prompt}\\\"\", \"\", \"Please return the answer in the following format:\", \"In order to implement this requirement,\", \"I can suggest introducing a new entity *entity_name*/ reusing the existing entity *entity_name*.\", \"\", \"Then I recommend to add a new workflow/update the existing entity workflow to incorporate the following logic: *specify the logic*\", \"\", \"Workflow mermaid flowchart diagram example:\"]}], \"publish\": true}"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90246582-1a12-11f0-b1a4-40c2ba0ac9eb",
            "name": "Tags for filtering calculation nodes (separated by ',' or ';')",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "ai_assistant"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "90246633-1a12-11f0-b9aa-40c2ba0ac9eb",
            "name": "Attach entity",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "true"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "902466e3-1a12-11f0-97e0-40c2ba0ac9eb",
            "name": "Calculation response timeout (ms)",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "INTEGER",
            "value": {
                "@type": "String",
                "value": "180000"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "902467b0-1a12-11f0-9c05-40c2ba0ac9eb",
            "name": "Retry policy",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "NONE"
            }
        },
        {
            "persisted": true,
            "owner": "CYODA",
            "id": "9024686e-1a12-11f0-aa48-40c2ba0ac9eb",
            "name": "Parameter 'context'",
            "creationDate": "2025-04-15T15:59:07.852+00:00",
            "valueType": "STRING",
            "value": {
                "@type": "String",
                "value": "{\"type\": \"notification\", \"question\": \"Examples to proceed:\\n\\nPlease, add a new entity for ...\\nPlease, add a workflow for ...\\n\\nPlease let me know if I can help!\", \"publish\": true}"
            }
        }
    ]
}