{
  "initial_state": "none",
  "workflow_name": "chat_entity",
  "states": {
    "none": {
      "transitions": {
        "initialize_chat": {
          "next": "initialized_chat"
        }
      }
    },
    "initialized_chat": {
      "transitions": {
        "submit_answer": {
          "next": "submitted_workflow_question",
          "action": {
            "name": "process_event",
            "config": {
              "type": "agent",
              "publish": true,
              "allow_anonymous_users": true,
              "model": {
                "model_name": "gpt-4o",
                "temperature": 0.7,
                "max_tokens": 10000
              },
              "tools": [
                {
                  "type": "function",
                  "function": {
                    "name": "web_search",
                    "description": "Search the web using Google Custom Search API. Use this function when you need to formulate questions or requirements for information to be searched online. For example, if the user wants to add data sources for an API but does not provide an exact link or documentation.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "query": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "query"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "read_link",
                    "description": "Read content from a URL. Use this function when you need to fetch content from a web resource. For example, if the user wants to add data sources for an API and provides an exact link, you should first read the link contents before proceeding with analysis.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "url"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "web_scrape",
                    "description": "Scrape content from a webpage using a CSS selector. Use this function when you need to scrape online content. For example, if the user wants to add data sources for an API and provides an exact link for web scraping, you should scrape the resource before analyzing the question.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        },
                        "selector": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "url",
                        "selector"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "build_general_application",
                    "description": "Launches workflow that is necessary to build a new application. Do not use for editing existing applications. Do not ask user any additional information. Only Python with Cyoda framework are available.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_existing_app_design_additional_feature",
                    "description": "Launches workflow that is necessary to help the user plan how to edit an existing application or add a new feature. Key factor is that an application already exists. if the user doesn't specify the branch, ask yourself.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "add_new_entity_for_existing_app",
                    "description": "Launches workflow that is necessary to help the user add a new entity to the existing application. Key factor is that an application already exists and the user explicitly asks to add a new entity (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself. Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "add_new_workflow",
                    "description": "Launches workflow that is necessary to help the user add a new workflow. Key factor is that an application already exists and the user explicitly asks to add a new workflow (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_api_existing_app",
                    "description": "Launches workflow that is necessary to help the user edit/update existing api (routes.py). Key factor is that an application already exists and the user explicitly asks to add changes to its api/routes/routes.py  (else default to edit_existing_app_design_additional_feature). If the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_existing_workflow",
                    "description": "Launches workflow that is necessary to help the user edit an existing workflow/workflow json. Key factor is that an application already exists and the user explicitly asks to update a workflow (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_existing_processors",
                    "description": "Launches workflow that is necessary to help the user update workflow processors code. Key factor is that an application already exists and the user explicitly asks to edit/update workflow processors/functions/workflow.py code (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "init_setup_workflow",
                    "description": "Launches workflow that is necessary to help the user to do initial setup and launch locally their client (user) application.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "deploy_cyoda_env",
                    "description": "Launches workflow that is necessary to deploy Cyoda environment for the user. User needs to explicitly ask for deployment of Cyoda environment.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "user_request": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "user_request"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "deploy_user_application",
                    "description": "Launches workflow that is necessary to deploy user client application (external calculation node). User needs to explicitly ask for deployment of their application. Branch is required.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "get_cyoda_guidelines",
                    "description": "Use this tool to generate configurations (workflows, entities, Cyoda settings) for informational purposes only, without modifying the application or saving data. If your goal is to change the application, this tool is not suitable. If it's unclear whether you need to modify the application or just need information, please clarify. The retrieved information can then be used to generate the required data without altering the application.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "workflow_name": {
                          "type": "string",
                          "enum": [
                            "generate_workflow",
                            "generate_processors",
                            "configure_trino",
                            "generate_entity",
                            "start_python_app",
                            "cyoda_best_practice"
                          ]
                        }
                      },
                      "required": [
                        "workflow_name"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "ui_function_issue_technical_user",
                    "description": "Please use ui_function_issue_technical_user for requests like give me a technical user. This will return CYODA_CLIENT_ID and CYODA_CLIENT_SECRET.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "method": {
                          "type": "string",
                          "enum": [
                            "POST"
                          ]
                        },
                        "path": {
                          "type": "string",
                          "enum": [
                            "/api/clients"
                          ]
                        },
                        "response_format": {
                          "type": "string",
                          "enum": [
                            "file"
                          ]
                        }
                      },
                      "required": [
                        "method",
                        "path",
                        "response_format"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "ui_function_list_all_technical_users",
                    "description": "Please use ui_function_list_all_technical_users for requests like give me all technical/m2m users. This will return the list of M2M clients.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "method": {
                          "type": "string",
                          "enum": [
                            "GET"
                          ]
                        },
                        "path": {
                          "type": "string",
                          "enum": [
                            "/api/clients"
                          ]
                        },
                        "response_format": {
                          "type": "string",
                          "enum": [
                            "text"
                          ]
                        }
                      },
                      "required": [
                        "method",
                        "path",
                        "response_format"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "ui_function_reset_client_secret",
                    "description": "Please use ui_function_reset_client_secret for requests like please reset the client secret for my technical user. Please use clientId from the user input. The user needs to explicitly give you clientId.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "method": {
                          "type": "string",
                          "enum": [
                            "PUT"
                          ]
                        },
                        "path": {
                          "type": "string",
                          "enum": [
                            "/api/clients/{clientId}/secret"
                          ]
                        },
                        "response_format": {
                          "type": "string",
                          "enum": [
                            "text"
                          ]
                        }
                      },
                      "required": [
                        "method",
                        "path",
                        "response_format"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "resume_build_general_application",
                    "description": "Resumes building an application by branch_name. Do not use for editing existing applications. Use for queries like, please proceed with this application; i had an error - proceed building an app, continue this app/chat. Please outline how we can proceed so the user can select a transition (please use human readable transition names) and a programming language. Transition, git branch and programming language should be provided by the user! You cannot decide yourself",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        },
                        "git_branch": {
                          "type": "string"
                        },
                        "transition": {
                          "type": "string",
                          "enum": [
                            "build_new_app",
                            "discuss_functional_requirements",
                            "edit_functional_requirements",
                            "prototype_discussion_requested",
                            "resume_migration",
                            "resume_prototype_cyoda_workflow",
                            "resume_gen_prototype_cyoda_workflow_json",
                            "resume_gen_entities",
                            "resume_post_app_build_steps"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "transition",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                }
              ],
              "messages": [
                {
                  "role": "user",
                  "content": [
                    " Hello! You are a very helpful Cyoda assistant who knows best how to achieve what the user needs.",
                    " If you are asked to build an application, then ask for programming language (Supported: Python Quart (Flask compatible) or Java 21 Spring Boot) choose the proper tool without any more questions.",
                    " You are promoting Cyoda design values: architecting complex event-driven systems based on Cyoda stack: state machine, trino integration, dynamic workflows. Core design component in Cyoda is an entity. It has a workflow that is triggered by some event. If you are asked more about Cyoda, please, use get_cyoda_guidelines tool to get more information. ",
                    " For other questions, please use your general knowledge if it’s sufficient, but if not, feel free to use any of the useful tools provided to you.",
                    " If you're unsure, don't hesitate to ask the user for more information.",
                    " Here is the user's request:"
                  ]
                }
              ],
              "tool_choice": "auto",
              "max_iteration": 30,
              "approve": false
            }
          }
        }
      }
    },
    "submitted_workflow_question": {
      "transitions": {
        "submit_answer": {
          "next": "processed_question",
          "manual": true,
          "action": {
            "name": "process_event",
            "config": {
              "type": "agent",
              "publish": true,
              "allow_anonymous_users": true,
              "model": {
                "model_name": "gpt-4o",
                "temperature": 0.7,
                "max_tokens": 10000
              },
              "tools": [
                {
                  "type": "function",
                  "function": {
                    "name": "web_search",
                    "description": "Search the web using Google Custom Search API. Use this function when you need to formulate questions or requirements for information to be searched online. For example, if the user wants to add data sources for an API but does not provide an exact link or documentation.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "query": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "query"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "read_link",
                    "description": "Read content from a URL. Use this function when you need to fetch content from a web resource. For example, if the user wants to add data sources for an API and provides an exact link, you should first read the link contents before proceeding with analysis.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "url"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "web_scrape",
                    "description": "Scrape content from a webpage using a CSS selector. Use this function when you need to scrape online content. For example, if the user wants to add data sources for an API and provides an exact link for web scraping, you should scrape the resource before analyzing the question.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        },
                        "selector": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "url",
                        "selector"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "build_general_application",
                    "description": "Launches workflow that is necessary to build a new application. Do not use for editing existing applications. Do not ask user any additional information. Only Python with Cyoda framework are available.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_existing_app_design_additional_feature",
                    "description": "Launches workflow that is necessary to help the user plan how to edit an existing application or add a new feature. Key factor is that an application already exists. if the user doesn't specify the branch, ask yourself.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "add_new_entity_for_existing_app",
                    "description": "Launches workflow that is necessary to help the user add a new entity to the existing application. Key factor is that an application already exists and the user explicitly asks to add a new entity (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself. Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "add_new_workflow",
                    "description": "Launches workflow that is necessary to help the user add a new workflow. Key factor is that an application already exists and the user explicitly asks to add a new workflow (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_api_existing_app",
                    "description": "Launches workflow that is necessary to help the user edit/update existing api (routes.py). Key factor is that an application already exists and the user explicitly asks to add changes to its api/routes/routes.py  (else default to edit_existing_app_design_additional_feature). If the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_existing_workflow",
                    "description": "Launches workflow that is necessary to help the user edit an existing workflow/workflow json. Key factor is that an application already exists and the user explicitly asks to update a workflow (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "edit_existing_processors",
                    "description": "Launches workflow that is necessary to help the user update workflow processors code. Key factor is that an application already exists and the user explicitly asks to edit/update workflow processors/functions/workflow.py code (else default to edit_existing_app_design_additional_feature). if the user doesn't specify the branch, ask yourself.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "entity_name": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "entity_name",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "init_setup_workflow",
                    "description": "Launches workflow that is necessary to help the user to do initial setup and launch locally their client (user) application.  Git branch is required. Ask the user explicitly or use the last branch from messages. Never default to main branch.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "deploy_cyoda_env",
                    "description": "Launches workflow that is necessary to deploy Cyoda environment for the user. User needs to explicitly ask for deployment of Cyoda environment.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "user_request": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "user_request"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "deploy_user_application",
                    "description": "Launches workflow that is necessary to deploy user client application (external calculation node). User needs to explicitly ask for deployment of their application. Branch is required.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "git_branch": {
                          "type": "string"
                        },
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "get_cyoda_guidelines",
                    "description": "Use this tool to generate configurations (workflows, entities, Cyoda settings) for informational purposes only, without modifying the application or saving data. If your goal is to change the application, this tool is not suitable. If it's unclear whether you need to modify the application or just need information, please clarify. The retrieved information can then be used to generate the required data without altering the application.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "workflow_name": {
                          "type": "string",
                          "enum": [
                            "generate_workflow",
                            "generate_processors",
                            "configure_trino",
                            "generate_entity",
                            "start_python_app",
                            "cyoda_best_practice"
                          ]
                        }
                      },
                      "required": [
                        "workflow_name"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "ui_function_issue_technical_user",
                    "description": " Please use ui_function_issue_technical_user for requests like give me a technical user. This will return CYODA_CLIENT_ID and CYODA_CLIENT_SECRET.",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "method": {
                          "type": "string",
                          "enum": [
                            "POST"
                          ]
                        },
                        "path": {
                          "type": "string",
                          "enum": [
                            "/api/clients"
                          ]
                        },
                        "response_format": {
                          "type": "string",
                          "enum": [
                            "file"
                          ]
                        }
                      },
                      "required": [
                        "method",
                        "path",
                        "response_format"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                {
                  "type": "function",
                  "function": {
                    "name": "resume_build_general_application",
                    "description": "Resumes building an application by branch_name. Do not use for editing existing applications. Use for queries like, please proceed with this application; i had an error - proceed building an app, continue this app/chat. Please outline how we can proceed so the user can select a transition (please use human readable transition names) and a programming language. Transition, git branch and programming language should be provided by the user! You cannot decide yourself",
                    "strict": true,
                    "parameters": {
                      "type": "object",
                      "properties": {
                        "user_request": {
                          "type": "string"
                        },
                        "programming_language": {
                          "type": "string",
                          "enum": [
                            "JAVA",
                            "PYTHON"
                          ]
                        },
                        "git_branch": {
                          "type": "string"
                        },
                        "transition": {
                          "type": "string",
                          "enum": [
                            "build_new_app",
                            "discuss_functional_requirements",
                            "edit_functional_requirements",
                            "prototype_discussion_requested",
                            "resume_migration",
                            "resume_prototype_cyoda_workflow",
                            "resume_gen_prototype_cyoda_workflow_json",
                            "resume_gen_entities",
                            "resume_post_app_build_steps"
                          ]
                        }
                      },
                      "required": [
                        "user_request",
                        "git_branch",
                        "transition",
                        "programming_language"
                      ],
                      "additionalProperties": false
                    }
                  }
                }
              ],
              "messages": [
                {
                  "role": "user",
                  "content": [
                    " Hello! You are a very helpful Cyoda assistant who knows best how to achieve what the user needs.",
                    " If you are asked to build an application, just choose the proper tool without any more questions.",
                    " You are promoting Cyoda design values: architecting complex event-driven systems based on Cyoda stack: state machine, trino integration, dynamic workflows. Core design component in Cyoda is an entity. It has a workflow that is triggered by some event. If you are asked more about Cyoda, please, use get_cyoda_guidelines tool to get more information. ",
                    " For other questions, please use your general knowledge if it’s sufficient, but if not, feel free to use any of the useful tools provided to you.",
                    " If you're unsure, don't hesitate to ask the user for more information.",
                    " Here is the user's request:"
                  ]
                }
              ],
              "tool_choice": "auto",
              "max_iteration": 30,
              "approve": false
            }
          }
        },
        "lock_chat": {
          "next": "locked_chat",
          "condition": {
            "config": {
              "type": "function",
              "function": {
                "name": "is_chat_locked",
                "description": "Verifies if the chat is locked"
              }
            }
          }
        }
      }
    },
    "processed_question": {
      "transitions": {
        "rollback": {
          "next": "locked_chat",
          "manual": true
        },
        "lock_chat": {
          "next": "locked_chat",
          "condition": {
            "config": {
              "type": "function",
              "function": {
                "name": "is_chat_locked",
                "description": "Verifies if the chat is locked"
              }
            }
          }
        },
        "unlock_chat": {
          "next": "submitted_workflow_question",
          "condition": {
            "config": {
              "type": "function",
              "function": {
                "name": "is_chat_unlocked",
                "description": "Verifies if the chat is unlocked"
              }
            }
          }
        }
      }
    },
    "locked_chat": {
      "transitions": {
        "unlock_chat": {
          "next": "submitted_workflow_question",
          "manual": true,
          "config": {
            "type": "function",
            "publish": true,
            "allow_anonymous_users": true,
            "function": {
              "name": "unlock_chat",
              "description": "",
              "max_iteration": 30,
              "approve": false
            }
          }
        }
      }
    }
  }
}

